<ion-content [fullscreen]="true">
  <ion-refresher slot="fixed" (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <ion-toolbar class="new-background-color">
    <ion-title>
      ME LEMBRE! </ion-title>
  </ion-toolbar>
  <!-- Documento Inserido -->
  <div style="padding: 1em;">
    <mat-card>
    <ion-row>
      <ion-col size="10">
<mat-form-field style="width: 100%;">
  <mat-label>Selecione o tipo de lembrete</mat-label>
  <mat-select  [(ngModel)]="newItem.nomeDocumento" name="Qual Lembrete?">
    <mat-option *ngFor="let doc of notifyList" (onSelectionChange)="populateType(doc.nameNotify)" value="{{doc.nameNotify}}">
      {{doc.nameNotify}}
    </mat-option>
  </mat-select>
</mat-form-field>

      </ion-col>
      <ion-col>
        <ion-fab (click)="openDialog()">
          <ion-fab-button size="small">
            <ion-icon name="add"></ion-icon>
          </ion-fab-button>
          </ion-fab>
      </ion-col>
      </ion-row>
<div *ngIf="visible" >
    <ion-row>
      <ion-col size=" 12">
        <mat-form-field style="width: 100%;">
          <mat-label>A fazer:</mat-label>
          <input [(ngModel)]="newItem.nome" matInput>
        </mat-form-field>
      </ion-col>
    </ion-row>

    <br>
    <ion-row>
      <ion-col size=" 12">
    <mat-form-field style="width: 100%;">
      <mat-label>Selecione a data</mat-label>
      <input matInput [(ngModel)]="newItem.value" readonly="true" [matDatepicker]="picker">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
    </ion-col>
    </ion-row>
    <br>
</div>
  </mat-card>
<br>
    <div class="flex-container" *ngIf="visible" >
      <button mat-raised-button
        style="background-color: #3171e0; color: #fff; width: 80%; height: 50px; border-radius: 10px;"
        (click)="addItem(newItem.value)">ADICIONAR LEMBRETE</button>
    </div>
    <!-- <ion-button expand=" full" (click)="addItem()">Add Item!</ion-button> -->

    <BR>
    <!-- <div *ngIf="items.length !== 0">
      <h3 class="flex-container">
        MEUS DOCUMENTOS
      </h3> -->
    <mat-accordion *ngFor="let item of items">
      <mat-expansion-panel style="border-left: 6px solid #3171e0;">
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{item.nome}}
          </mat-panel-title>

        </mat-expansion-panel-header>
        <mat-card style="padding: 1em ;border-right: 6px solid #3171e0;">
          <h3> <b>Tipo de lembrete:</b> {{item.nomeDocumento}}
          </h3>
          <h3> <b>Validade:</b> {{item.value | date:'dd/MM/yyyy'}}
          </h3>
          <br>
          <div class="flex-container">
            <button mat-raised-button color="warn" style="width: 80%;" (click)="deleteItem(item)">
              EXCLUIR</button>
          </div>
        </mat-card>
      </mat-expansion-panel>
      <br>

    </mat-accordion>
    <!-- </div> -->



    <br><br>
    <br>
    <img src="../../assets/icon.png">

  </div>
</ion-content>
